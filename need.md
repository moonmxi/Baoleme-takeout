**2025** **夏季学期《**  **软件工程基础实践** **》**

**教学大纲**

**任课教师：杨溢龙杨任宇**

**助教：张润坤、赵龙淳、陈燕翔、尹耀**

[]()一、 **开发任务要求**

1. **基本任务** **：实现****单体系统的[]()****CI/CD流水线构建与测试**

   在本地搭建CI/CD流水线，实现软件工程基础课程系统代码到本地K8S环境的持续集成与部署（Docker Desktop自带），最低要求利用包管理工具进行本地单元测试、项目构建、容器化和本地部署，也推荐容器化搭建本地流水线如Jenkins，有具体要求如下：

l 确保每个函数至少存在正反两个单元测试用例，构建时自动进行测试

l 前端、后端与数据库单独容器化

l 容器化后自动部署到本地K8S环境中

l 运行之后用测试工具进行集成测试（用例级别）

注：可用Postman直接集成测试后端，也可使用GUI测试工具进行前段的集成测试

2. **进阶任务** **：实现单体系统****微服务****化、流水线部署与云原生特性测试**

l **单体系统** **微服务化**  **：** 对上学期大作业所开发的系统进行微服务和容器化改造。微服务的数量和规模需考虑系统的质量属性与特性：如高内聚低耦合、业务功能边界清晰、单一职责原则、独立更新与部署、数据库独立、等方面，具体要求如下：

§ 微服务数量至少3个以上，不超过系统的总用例数，验收时需重点讲解微服务划分策略及参考依据。

§ 每个微服务要求拥有独立的数据库，即单体系统数据库的表分配到不同的微服务中，原始表的关联操作需通过微服务接口实现。

l **微服务** **流水线部署：** 搭建流水线框架（可线上或线下），构建微服务流水线，实现代码推送到微服务打包、测试与部署（K8S），具体要求如下：

§  **版本控制：** 流水线和云端git仓库连接

§  **自动化构建：** 每次在提交代码的时候能够自动触发构建过程

§  **自动化部署：** 利用Docker或者K8s等工具，自动化地部署应用程序和其依赖。

§ **微服务** **测试：** 对后端的每一个接口测试，验证输出正确性，即原始单体系统和微服务化后系统系统功能保持一致并正确。

l **云原生特性** **测试** ：利用K8S 内置 Deployment、Replicaset 等部署方法，实现系统的自动扩缩容、降级服务等功能。要求使用压力测试工具，编写压力测试脚本验证效果。

§ 最终交付物需要体现出与工作开始前单体项目的稳定的性能差距，对差距大小没有要求。可以使用Apache JMeter，Gatling，Locust，k6等工具测试。建议保留原有项目。具体而言，可以选取2-3个关键用例的接口，展示这些接口的吞吐量提升并简述影响性能提升的相关工作。

| **注意：** **完成每一个** **任务、**  **功能和相应测试后一定要截图保存，**  **同时commit到本地git上，** **方便检查****和必要的备份。** |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

**二、项目管理要求**

    按照敏捷开发的基本要求，利用每日站会+看板进行项目管理。可使用 CodeArts或同类工具进行项目管理。（具体使用什么平台不做要求，下方示例截图所用平台为上学期CodeArts平台）具体要求如下：

1. **每日站会及站会简报**

   所有小组早九点在机房集合后，召开每日站会（5分钟左右），需要每位同学依次讨论问题：

l  我昨天完成了什么？

l  我今天要做什么？

l  遇到了什么技术/管理方面的困难？

站会结束后小组提交 **站会简报** ，对团队讨论的问题进行总结。（由一位同学进行总结，每小组提交一份，建议200字左右）

| **检查要求：站会简报每日按时提交在北航云盘中，北航云盘每日会在群中更新（每天中午12点前提交，具体云盘链接，班级课程群里公布）。** |
| -------------------------------------------------------------------------------------------------------------------------------------- |

2. **项目管理**

   各团队需要将CodeArts平台管理部分进行重构全部任务的管理包括：任务、看板、项目统计等方面，并将截图附在最终提交文档中。特别是需要对任务进行任务粒度的划分，对每个任务进行完整的截图；看板和项目统计应该 **每日更新（注意及时截图留存）** ，并在文档中注明对应日期。任务、看板和项目统计的截图样例分别如图1、图2和图3所示。

![](file:////Users/mawenban/Library/Containers/com.kingsoft.wpsoffice.mac/Data/tmp/wps-mawenban/ksohtml//wps1.jpg)

图1 任务详情图

![](file:////Users/mawenban/Library/Containers/com.kingsoft.wpsoffice.mac/Data/tmp/wps-mawenban/ksohtml//wps2.jpg)

![](file:////Users/mawenban/Library/Containers/com.kingsoft.wpsoffice.mac/Data/tmp/wps-mawenban/ksohtml//wps3.jpg)

图2：看板示例图

![](file:////Users/mawenban/Library/Containers/com.kingsoft.wpsoffice.mac/Data/tmp/wps-mawenban/ksohtml//wps4.jpg)

图3 ：项目统计图

**三、时间安排与考核说明**

**（一）整体时间安排**

第一阶段 8.26-8.30: 5天 （30日为中期检查）

第二阶段 9.1-9.5: 5天 （5日为最终答辩）答辩时间为下午14:00-17:00

**（二）每日时间安排**

l 上午 9:00-12:00

l 下午 14:00-17:00

**（三）交付物**

1. 源代码
2. CodeArts项目地址
3. 文档（PPT和技术总结报告）

l PPT包括

a. 开发任务要求内全部内容

b. CI/CD过程演示

c. 测试效果演示

l 文档包含：

d. 项目管理相关大屏截图

e. 任务使用的技术栈

f. 微服务划分策略和理由

g. 流水线结果截图

h. 扩缩容、降级服务等功能的样例和记录

i. 性能差距截图和简单说明

j. 权重分配结果和签字

（四） **评分标准**

l **分数基本构成（满分100分）**

| **平时考勤**           | **10** **分：** 每日上午下午均有考勤，考勤无具体时间点缺勤两次之内不扣分（除第一天和最后一天），两次之后每次扣1分，扣完为止 |
| ---------------------------- | --------------------------------------------------------------------------------------------------------------------------------------- |
| **基本任务**           | **30****分**                                                                                                                      |
| **进阶任务**           | **40****分**                                                                                                                      |
| **项目展示****与报告** | **20****分**                                                                                                                      |

l **考核形式**

1. 考核分为一次中期检查、一次最终答辩和最终交付物，三者共同构成90分项目分，另外10分为考勤分。
2. 中期检查为阶段性检查，主要的目的是检查各团队项目需求的完成情况以便指导后面的实践过程，由助教和老师根据项目进度进行评分。
3. 最终答辩为正式答辩，需讲解实现方式，重点讲解最终效果。在第10天下午进行。答辩会针对功能完整性、是否出现bug等具体因素进行，由助教和老师进行评分。

l **权重问题**

1. 除签到成绩外，计小组得分，个人权重最高1.1，最低0.9
2. 特殊个人情况经老师助教核实后可低于0.9（不得低于0.5）
3. 各组员权重超过1的部分之和不得超过0.2。例如，若有组员权重被扣为0.5，剩下四个组员能分配的总权重最多不超过0.2
4. 权重分配需组员签字同意，无签字不得分（至少一半组员）
5. 小组成绩部分最终得分不超过90分（满分）

l **考勤**

1. 每天上午下午各有一次考勤（时间不固定）
2. 缺勤两次及以内不扣分（第一天和最后一天除外），缺勤两次以上每次扣1分

四、 **参考链接**

[1]. 微服务和容器化 Java SpringBoot -> SpringCloud 微服务框架[https://springdoc.cn/microservices-with-spring-boot-3-and-spring-cloud/](https://springdoc.cn/microservices-with-spring-boot-3-and-spring-cloud/)

[2]. 领域驱动设计[https://domain-driven-design.org/](https://domain-driven-design.org/)

[3]. DevOps流程， 例如 Docker+Jenkins Docker [https://www.docker.com](https://www.docker.com)

[4]. Github Action 实现自动部署：[https://super-buaa-2021.github.io/Djangobook/post/ch3/3.html](https://super-buaa-2021.github.io/Djangobook/post/ch3/3.html)

[5]. 华为云实现自动部署：[https://bbs.huaweicloud.com/blogs/312937](https://bbs.huaweicloud.com/blogs/312937)

[6]. K8S单机开发，利用 deployment， replicaset等 [https://kubernetes.io](https://kubernetes.io)

[7]. 敏捷开发[https://learn.microsoft.com/zh-cn/devops/plan/what-is-agile-development](https://learn.microsoft.com/zh-cn/devops/plan/what-is-agile-development)
